<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">

        <title>Kiwix</title>
        <link rel="icon" href="img/icons/kiwix-32.png" sizes="32x32" />
        <meta name="description" content="Offline Wikipedia reader">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <!--
        Kiwix (offline Wikipedia reader) - HTML5/Javascript version
        Home page : http://www.kiwix.org

        Main authors of this application :
        Mossroy - mossroy@mossroy.fr
        Peter-x - https://github.com/peter-x

        Copyright 2013-2017 Mossroy, Peter-x and contributors
        License GPL v3:

        This file is part of Kiwix.

        Kiwix is free software: you can redistribute it and/or modify
        it under the terms of the GNU General Public License as published by
        the Free Software Foundation, either version 3 of the License, or
        (at your option) any later version.

        Kiwix is distributed in the hope that it will be useful,
        but WITHOUT ANY WARRANTY; without even the implied warranty of
        MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
        GNU General Public License for more details.

        You should have received a copy of the GNU General Public License
        along with Kiwix (file LICENSE-GPLv3.txt).  If not, see <http://www.gnu.org/licenses/>

        -->

        <!--<link rel="stylesheet" href="css/app.css"/>-->
        <!-- Bootstrap -->
        <link href="css/bootstrap.css" rel="stylesheet" media="screen"/>
        <link href="css/bootstrap-theme.css" rel="stylesheet" media="screen"/>
    </head>
    <body role="application">
        <section id="search-article" role="region">
            <header id="top">
                <nav role="navigation">
                    <!-- Still useful as a reference if navbar toggle is required 
                    <div class="navbar-header">
                        <button type="button" id="navbarToggle"  
                        class="navbar-toggle btn btn-default" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                          <span class="sr-only">Toggle navigation</span>
                          <span class="icon-bar"></span>
                          <span class="icon-bar"></span>
                          <span class="icon-bar"></span>
                        </button>
                        <form id="formArticleSearchnew" role="search" >
                            <span class="input-group">
                                <span class="input-group-btn">
                                    <button id="btnHome" class="btn btn-default">
                                    <img src="./img/icons/kiwix-19.png"/> 2.2-WIP
                                    </button>
                                </span>
                                <input type="search" id="prefix" placeholder="Search..." 
                                class="form-control" />
                                <span class="input-group-btn">
                                    <a class="btn btn-default" title="Article Search" id="searchArticles"><span class="glyphicon glyphicon-search"></span></a>
                                    <a class="btn btn-default" title="Image Search" id="searchImages"><span class="glyphicon glyphicon-camera"></span></a>
                                </span>
                            </span>
                        </form>
                    </div>
                    <div class="navbar-nav">
                        <div class="collapse navbar-collapse navbar-ex1-collapse">
                            <span class="btn-group" role="group">
                              <a href="#" class="btn btn-default" title="Random Article" id="btnRandomArticle"><span class="glyphicon glyphicon-random"></span></a>
                              <a href="#" class="btn btn-default" title="Settings" id="btnConfigure"><span class="glyphicon glyphicon-wrench"></span></a>
                              <a href="#" class="btn btn-default" title="About" id="btnAbout"><span class="glyphicon glyphicon-info-sign"></span></a>
                            </span>
                        </div>
                    </div> -->
                    <!-- Collect the nav links, forms, and other content for toggling -->
                    <!-- /.navbar-collapse -->
                    <!-- Issue here is for some small screens search bar can get small. Can be handled by shrinking buttons collapse. 
                    Use "container" in div to center the toolbar if reqd --> 
                    <div class="">
                        <form id="formArticleSearchnew">
                            <span class="input-group">
                                <span class="input-group-btn">
                                    <button id="btnHome" type="button" class="btn btn-default">
                                    <img src="./img/icons/kiwix-19.png"/>
                                    </button>
                                <button type="button" style="margin-top=-1px;" class="btn btn-default btn-primary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span class="glyphicon glyphicon-filter small"></span> <span class="caret small"></span></button>
                                <ul class="dropdown-menu">
                                  <li><a href="#">Keyword - URL Prefix</a></li>
                                  <li class="active"><a href="#">Keyword - Title Prefix</a></li>
                                  <li ><a href="#">Keyword - Anywhere<small>(Brute Force)</small></a></li>
                                  <li role="separator" class="divider"></li>
                                  <li class="small"><a href="#">Content - Only Articles</a></li>
                                  <li class="small"><a href="#">Content - Only Images</a></li>
                                  <li class="small"><a href="#">Content - Everything</a></li>
                                  <li role="separator" class="divider"></li>
                                  <li class="small"><a style="color:red;" href="#">Case Sensitive - No Variants</a></li>
                                  <li class="small"><a style="color:green;" href="#">Resolve Redirects</a></li>
                                  <li class="small"><a href="#">Remove Dups</a></li>
                                </ul>    
                                </span>
                                <input type="search" id="prefix" placeholder="Search..." 
                                class="form-control" />
                                <span class="input-group-btn">
                                    <a class="btn btn-primary btn-default" title="Article Search" id="searchArticles"><span class="glyphicon glyphicon-search"></span></a>
                                    <a class="btn btn-default" title="Image Search" id="searchImages"><span class="glyphicon glyphicon-camera"></span></a>
                                    <a class="btn btn-default" title="Random Article" id="btnRandomArticle"><span class="glyphicon glyphicon-random"></span></a>
                                    <a class="btn btn-default" title="Settings" id="btnConfigure"><span class="glyphicon glyphicon-wrench"></span></a>
                                    <a class="btn btn-default" title="About" id="btnAbout"><span class="glyphicon glyphicon-info-sign"></span></a>
                                </span>
                            </span>                                
                        </form>
                    </div>
                </nav>
            </header>
            <article class="view-content">
                <div id="formArticleSearchResults" class="container">
                    <div class="row">                       
                        <!-- List of articles matching the typed prefix -->
                        <div id="articleListWithHeader">
                            <div id="articleList" class="list-group">
                            </div>
                        </div>     
                    </div>
                    <!-- <div id="searchingForArticles" class="floating" style="display: none;">
                        <img src="img/spinner.gif" alt="Please wait..." />
                    </div> -->
                </div>

                <div id="about" style="display: none;" class="container">
                    <h2>
                    <img src="img/icons/kiwix-60.png" alt="Kiwix icon"/>
                    Kiwix : offline Wikipedia viewer <small>(Version:2.2-WIP)</small>
                    </h2>
                    <p class="lead"> Official Site : <a href="http://www.kiwix.org/" target="_blank">www.kiwix.org</a>
                    </p>
                    <p>If your Internet access is expensive, rare, slow, unreliable, watched, censored, you still can browse amazing amounts of knowledge and culture offline. The content is packaged in file archives called ZIM files. Once you have downloaded material from the <a href="http://download.kiwix.org" target="_blank">Kiwix</a> website, you will be able to read material from Wikipedia and many other sources.
                    <p>You can search among the article titles, and read any of these articles offline, without needing Internet access. All the content of Wikipedia is inside your device (including the images). It might also work with any content in the <a href="http://www.openzim.org//wiki/OpenZIM">OpenZIM format</a>, but the app has been mainly tested with Wikipedia archives.</p>
                    <p>Note : Version 1.x of this application was designed for <a href="http://dumpathome.evopedia.info/dumps/finished/">Evopedia archives</a> and it's still compatible with it, but this format and <a href="http://www.evopedia.info">project</a> are now discontinued.</p>
                    
                    <h3>Usage</h3>
                    <h4>Step 1 : Download some content</h4>
                    from <a href="http://download.kiwix.org/zim" target="_blank">http://download.kiwix.org/zim/</a>, with a regular computer.
                    <p>For a quick test, you can start with the <a href="http://download.kiwix.org/zim/wikipedia/wikipedia_en_ray_charles_2015-06.zim" target="_blank">"Ray Charles" ZIM file</a> : it contains some wikipedia articles about Ray Charles.
                    </p>
                    <p>Try downloading materials in your language. Check the size before you download files as many of the files are large (several Gigabytes). If the file is larger than 2 GB, it might not be supported by your device if your storage is formatted using a FAT filesystem. If so, it's possible to split the material into several 2GB files : see <a href="http://www.kiwix.org/wiki/FAQ">the Kiwix FAQ</a>
                    </p>
                    <h4>Step 2 : Copy the content onto your device</h4>
                    If you have enough space, you can put several archives.
                    <h4>Step 3 : Open the extension, go to the "Configure" menu and select your ZIM file</h4>
                    <h4>Step 4 : Enjoy Wikipedia offline!</h4>
                    
                    <h3>Privacy policy</h3>
                    <h4>Short answer :</h4>
                    <p>This application works offline. We do not collect any of your personal data and don't even know what you are doing with this application.
                    </p>
                    <h4>Longer answer :</h4>
                    <p>Anyway, if you think your Internet access can be watched and/or if you are paranoid, you should shut down your 3G and Wifi access before using the application. This application only reads the archive files of your device : it does not read any other files.
                    </p>
                    <h3>Feedback / helping / contributing</h3>
                    This application is still a work in progress. There are many bugs and improvements that need to be done. In particular :
                    <ul>
                        <li><a href="https://github.com/kiwix/kiwix-js/issues/114" target="_blank">Issue #114</a> : Add a way to easily download ZIM files directly to the device</li>
                        <li><a href="https://github.com/kiwix/kiwix-js/issues/13" target="_blank">Issue #13</a> : All the user interface is in English : I plan to translate it at least in French. If you feel able to translate it in your language, please contact me</li>
                        <li><a href="https://github.com/kiwix/kiwix-js/issues/172" target="_blank">Issue #172</a> and <a href="https://github.com/kiwix/kiwix-js/issues/152" target="_blank">#152</a> : Handle video and javascript content</li>
                        <li><a href="https://github.com/kiwix/kiwix-js/issues/126" target="_blank">Issue #126</a> : Load the welcome page at first startup</li>
                        <li><a href="https://github.com/kiwix/kiwix-js/issues/117" target="_blank">Issue #117</a> : Better handle upper/lowercase and accents/diacritics in title search</li>
                        <li>Performance improvements etc.</li>
                    </ul>
                    Suggestions and patches/pull requests are welcome : the source code is on <a href="https://github.com/kiwix/kiwix-js" target="_blank">github</a>.
                    The <a href="https://github.com/kiwix/kiwix-js/issues" target="_blank">bugtracker</a> is on github too. We use it as our roadmap.
                    <br />Alternatively, you can send your feedback <a href="mailto:mossroy@mossroy.fr?subject=%5BKiwix%5D%20Feedback%20about%20Kiwix%20JS">by email</a>.
                    <br />In all cases, please give as much detail as you can : which device you are using, which version of Kiwix, which archive, which articles etc.
                    <br />
                    <br />If you like the Kiwix project and use it, please consider giving donations :
                    <ul>
                        <li>to the Wikimedia foundation, to help maintaining their servers and article contents. See the <a href="https://donate.wikimedia.org/" target="_blank">donation page</a></li>
                        <li>to Kiwix, to help maintaining the ZIM files and applications. There is a donation button in  the <a href="http://www.kiwix.org">home page of kiwix.org</a></li>
                    </ul>
                    You can also help by :
                    <ul>
                        <li>Adding articles or improving the existing ones, by <a href="https://en.wikipedia.org/wiki/Wikipedia:Introduction" target="_blank">editing online wikipedia articles</a></li>
                        <li><a href="http://www.kiwix.org/wiki/Special:MyLanguage/Participate" target="_blank">Participating</a> in the Kiwix project</li>
                    </ul>
                    <h3>Credits</h3>
                    We have to distribute some thanks to :
                    <ul>
                        <li>Kelson and all the Kiwix community for welcoming peter-x and me in this project</li>
                        <li>Wikipedia teams and contributors to help spreading knowledge to everybody</li>
                        <li>All the developers of libraries and tools I used for releasing them as Free software (see License paragraph)</li>
                    </ul>
                    <h3>License information</h3>
                    Copyright 2013-2017 Mossroy, Peter-x and contributors
                    <br />This application is licensed under the GPL v3 license :
                    <br />
                    <i>
                    <br />Kiwix is free software: you can redistribute it and/or modify
                    <br />it under the terms of the GNU General Public License as published by
                    <br />the Free Software Foundation, either version 3 of the License, or
                    <br />(at your option) any later version.
                    <br />
                    <br />Kiwix is distributed in the hope that it will be useful,
                    <br />but WITHOUT ANY WARRANTY; without even the implied warranty of
                    <br />MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
                    <br />GNU General Public License for more details.
                    <br />
                    <br />You should have received a copy of the GNU General Public License
                    <br />along with Kiwix (file LICENSE-GPLv3.txt).  If not, see <a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>
                    </i>
                    <br />
                    <br />Main libraries and ressources used :
                    <ul>
                        <li><a href="http://jquery.com/" target="_blank">jQuery</a> 2, released under the <a href="http://jquery.org/license" target="_blank">MIT license</a></li>
                        <li><a href="http://getbootstrap.com/" target="_blank">Bootstrap</a> 3, released under the <a href="http://www.apache.org/licenses/LICENSE-2.0" target="_blank">Apache license 2.0</a>, which includes icons from <a href="http://glyphicons.com/">Glyphicons</a></li>
                        <li><a href="http://www.requirejs.org/" target="_blank">RequireJS</a> 2, released under the <a href="https://github.com/jrburke/requirejs/blob/master/LICENSE" target="_blank">MIT license or new BSD license</a></li>
                        <li><a href="http://qunitjs.com/" target="_blank">QUnit</a> 2, released under the <a href="http://jquery.org/license" target="_blank">MIT license</a></li>
                        <li>Kiwix logo from <a href="http://www.kiwix.org/" target="_blank">kiwix.org</a>, released under the <a href="http://creativecommons.org/licenses/by-sa/3.0/" target="_blank">Creative Commons Attribution Share Alike</a></li>
                        <li>OpenZIM specifications from <a href="http://www.openzim.org//wiki/OpenZIM" target="_blank">www.openzim.org</a>, released under the <a href="http://creativecommons.org/licenses/by-sa/3.0/" target="_blank">Creative Commons Attribution Share Alike</a></li>
                        <li>Emscripten to generate a XZ decompressor in javascript : <a href="https://github.com/kripken/emscripten" target="_blank">https://github.com/kripken/emscripten</a>, released under the <a href="https://github.com/kripken/emscripten" target="_blank">MIT license</a></li>
                        <li><a href="http://tukaani.org/xz/embedded.html">XZ Embedded</a> (the XZ library converted to Javascript with Emscripten), in public domain</li>
                    </ul>
                    <h3>Other platforms/versions</h3>
                    Other Kiwix clients exist on various platforms. See the official site : <a href="http://www.kiwix.org/" target="_blank">http://www.kiwix.org/</a>
                </div>

                <div id="configuration" style="display: none;" class="container">
                    <h4>File Selector</h4>
                    <div id="openLocalFiles" style="display: none;" >
                        <p>Please select the archive (.zim file) to load, or multi-select .zimaa, .zimab etc if loading a split archive. <small>(Or visit <a target="_blank" href="http://wiki.kiwix.org/wiki/Content#Download"><mark>Kiwix.org</mark></a> to download an archive)</small></p>
                        <p><input type="file" id="archiveFiles" multiple class="btn" accept=".zim,.dat,.idx,.txt,.zimaa,.zimab,.zimac,.zimad,.zimae,.zimaf,.zimag,.zimah,.zimai,.zimaj,.zimak,.zimal,.zimam,.ziman,.zimao,.zimap,.zimaq,.zimar,.zimas,.zimat,.zimau,.zimav,.zimaw,.zimax,.zimay,.zimaz,.zimba,.zimbb,.zimbc,.zimbd,.zimbe,.zimbf,.zimbg,.zimbh,.zimbi,.zimbj,.zimbk,.zimbl,.zimbm,.zimbn,.zimbo,.zimbp,.zimbq,.zimbr,.zimbs,.zimbt,.zimbu,.zimbv,.zimbw,.zimbx,.zimby,.zimbz" /></p>   
                        <p><small><i class="text-info">Only Wikimedia (wiki*.zim*)</i> files have been tested. <i class="text-info">Audio, Video and Dynamic Content</i> is currently unsupported. To lookup old/submit new issues visit the <a target="_blank" href="http://github.com/kiwix/kiwix-js/issues">Kiwix-JS Issue Tracker</a></small></p>
                        <ul id="zims" style="padding:2px;"></ul>
                    </div>
                    <div id="scanningForArchives" style="display: none;">
                        <br /> Scanning for archives... Please wait <img src="img/spinner.gif" alt="Please wait..." />
                    </div>
                    <div id="chooseArchiveFromLocalStorage" style="display: none;">
                        <br /> Please select the archive you want to use : <select id="archiveList" class="form-control"></select>
                        <br /> Click <a id="btnRescanDeviceStorage">here</a> to rescan your SD Cards and internal memory
                    </div>
                    <!-- <h4>Display</h4>
                    <p>
                        <b>Style </b>
                         For Wikipedia Files: 
                            <label class"radio-inline" for="cssModeDesktopRadio">
                            <input type="radio"  name="cssInjectionMode" value="desktop" id="cssModeDesktopRadio" checked> Desktop
                        </label> 
                        <label class"radio-inline" for="cssModeMobileRadio">
                            <input type="radio" name="cssInjectionMode" value="mobile" id="cssModeMobileRadio"> Mobile
                        </label>  
                        <br/>
                        <b>Cache</b>
                        Use In-App Cached Styles: <label for="cssCacheModeCheck"><input type="checkbox" name="cssCacheMode" value="local" id="cssCacheModeCheck">
                        </label> 
                        <small> ( Recommended For Wikipedia ZIM )</small>
                    </p>
                    <h4>Expert Settings</h4>
                    <div id="contentInjectionModeDiv">
                        Content injection mode <small>(Don't touch unless you know what you're doing) </small>: <br/>
                        <input type="radio" name="contentInjectionMode" value="jquery" id="jQueryModeRadio" checked><label for="jQueryModeRadio">&nbsp; Document Parsing Based Injection</label> (slow and memory hungry, but safer)
                            <br>
                        <input type="radio" name="contentInjectionMode" value="serviceworker" id="serviceworkerModeRadio"><label for="serviceworkerModeRadio">&nbsp; Request Interception Based Injection</label> (faster but unstable, and not supported by all platforms. In particular, Firefox extensions do not allow ServiceWorkers for now)
                    </div> 
                    <div id="serviceWorkerStatus"></div>
                    <div id="messageChannelStatus"></div> -->
                </div> 

                <div id="welcomeText" class="container category-padding">
                    You can search the content of your ZIM archive by typing in the above search field.
                    <br />It will propose articles starting with what you typed
                </div>
                <!--<div id="articleContent" src="A/dummyArticle.html" class="articleIFrame">&nbsp;
                    <div id="body"></div>
				</div>-->
                <iframe id="articleContent" src="A/dummyArticle.html" style="width:100%;border:0;">&nbsp;</iframe>
			</article>
            <footer>
                <div id="navigationButtons" style="background:rgba(0,0,0,0.2);" class="navbar-fixed-bottom text-center">
                        <a class="btn btn-primary btn-sm pull-left" id="btnHomeBottom" title="Home"><span class="glyphicon glyphicon-home"></span></a>
                        <a class="btn btn-sm" id="btnBack" title="Back"><span class="glyphicon glyphicon-circle-arrow-left"></span></a><span id="appStatus"></span>
                        <a class="btn btn-sm" id="btnForward" title="Forward"><span class="glyphicon glyphicon-circle-arrow-right"></span></a>
                        <a class="btn btn-primary btn-sm pull-right" id="btnTop" title="Top" href="#top"><span class="glyphicon glyphicon-arrow-up"></span></a>
                </div>
            </footer>
        </section>

        <script type="text/javascript" src="js/lib/xzdec.js"></script>
        <!-- Using require.js, a module system for javascript, include the
             js files. This loads "main.js", which in turn can load other
             files, all handled by require.js:
             http://requirejs.org/docs/api.html#jsfiles -->
        <script type="text/javascript"
                data-main="js/init.js"
        src="js/lib/require.js"></script>
    </body>
</html>
