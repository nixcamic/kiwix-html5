'use strict';
define(['jquery', 'zimArchiveLoader', 'favicons'], function($, zimArchiveLoader, icons) {

	var catalogue = [{"size": "61226386", "publisher": "Kiwix", "mediaCount": "4109270", "description": "From Wikipedia, the free encyclopedia", "language": "eng", "creator": "Wikipedia", "url": "http://download.kiwix.org/zim/wikipedia/wikipedia_en_all_2016-12.zim.meta4", "title": "Wikipedia", "favicon": icons.wikipedia_en_all, "articleCount": "5298371", "date": "2016-12-24", "faviconMimeType": "image/png", "id": "89cabd6b-3e2a-d6b8-d6a7-8cb1c4657e76", "name": "kiwix.wikipedia_en_all"}, {"size": "19707200", "publisher": "Kiwix", "mediaCount": "16431", "description": "From Wikipedia, the free encyclopedia", "language": "eng", "tags": "nopic", "url": "http://download.kiwix.org/zim/wikipedia/wikipedia_en_all_nopic_2017-01.zim.meta4", "title": "Wikipedia", "favicon": icons.wikipedia_en_all, "articleCount": "5297262", "date": "2017-01-04", "faviconMimeType": "image/png", "creator": "Wikipedia", "id": "0b3eacf3-4ea7-6c8b-73fb-086bd79c853c", "name": "kiwix.wikipedia_en_all"}, {"size": "272398", "publisher": "Kiwix", "mediaCount": "12656", "description": "All Wikipedia article about Indian cinema", "language": "eng", "tags": "_ftindex", "url": "http://download.kiwix.org/zim/wikipedia/wikipedia_en_bollywood_2017-02.zim.meta4", "title": "Bollywood", "favicon": icons.wikipedia_en_bollywood_201702, "articleCount": "21303", "date": "2017-02-14", "faviconMimeType": "image/png", "creator": "Wikipedia", "id": "7fe3e4ab-b8d9-be7f-4e49-40cafe9772a4", "name": "kiwix.wikipedia_en_bollywood"}, {"size": "106138", "publisher": "Kiwix", "mediaCount": "37", "description": "All Wikipedia article about Indian cinema", "language": "eng", "tags": "nopic;_ftindex", "url": "http://download.kiwix.org/zim/wikipedia/wikipedia_en_bollywood_nopic_2017-02.zim.meta4", "title": "Bollywood", "favicon": icons.wikipedia_en_bollywood_201702, "articleCount": "21303", "date": "2017-02-14", "faviconMimeType": "image/png", "creator": "Wikipedia", "id": "d75cdd5c-5001-f9d7-4276-9efc0458f7da", "name": "kiwix.wikipedia_en_bollywood"}, {"size": "4518816", "publisher": "Kiwix", "mediaCount": "58040", "description": "50.000 healthcare from Wikipedia", "language": "eng", "tags": "_ftindex", "url": "http://download.kiwix.org/zim/wikipedia/wikipedia_en_medicine_2017-08.zim.meta4", "title": "WikiMed Medical Encyclopedia", "favicon": icons.wikipedia_medicine_en_201708, "articleCount": "54453", "date": "2017-08-05", "faviconMimeType": "image/png", "creator": "Wikipedia", "id": "d99bb5be-355f-5561-d3d1-d547a3ea3d3e", "name": "kiwix.wikipedia_en_medicine"}, {"size": "415569", "publisher": "Kiwix", "mediaCount": "26908", "description": "50.000 healthcare from Wikipedia", "language": "eng", "tags": "\"nodet\";_ftindex", "url": "http://download.kiwix.org/zim/wikipedia/wikipedia_en_medicine_nodet_2017-08.zim.meta4", "title": "WikiMed Medical Encyclopedia", "favicon": icons.wikipedia_medicine_en_201708, "articleCount": "54453", "date": "2017-08-06", "faviconMimeType": "image/png", "creator": "Wikipedia", "id": "9022dff7-8838-c467-90ca-4c0ec214d953", "name": "kiwix.wikipedia_en_medicine"}, {"size": "462565", "publisher": "Kiwix", "mediaCount": "31", "description": "50.000 healthcare from Wikipedia", "language": "eng", "tags": "\"nopic\";_ftindex", "url": "http://download.kiwix.org/zim/wikipedia/wikipedia_en_medicine_nopic_2017-08.zim.meta4", "title": "WikiMed Medical Encyclopedia", "favicon": icons.wikipedia_medicine_en_201708, "articleCount": "54453", "date": "2017-08-06", "faviconMimeType": "image/png", "creator": "Wikipedia", "id": "3b5e6d40-6eb7-b41d-b91b-71c894e47071", "name": "kiwix.wikipedia_en_medicine"}, {"size": "1153774", "publisher": "Kiwix", "mediaCount": "57382", "description": "50.000 healthcare from Wikipedia", "language": "eng", "tags": "\"=novid\";_ftindex", "url": "http://download.kiwix.org/zim/wikipedia/wikipedia_en_medicine_novid_2017-08.zim.meta4", "title": "WikiMed Medical Encyclopedia", "favicon": icons.wikipedia_medicine_en_201708, "articleCount": "54453", "date": "2017-08-06", "faviconMimeType": "image/png", "creator": "Wikipedia", "id": "161bebed-8b09-515f-2d3e-15837b5396fa", "name": "kiwix.wikipedia_en_medicine"}, {"size": "1251429", "publisher": "Kiwix", "mediaCount": "116261", "description": "From Wikipedia, the free encyclopedia", "language": "eng", "creator": "Wikipedia", "url": "http://download.kiwix.org/zim/wikipedia/wikipedia_en_simple_all_2017-01.zim.meta4", "title": "Wikipedia", "favicon": icons.wikipedia_simple_en_all_201701, "articleCount": "122123", "date": "2017-01-04", "faviconMimeType": "image/png", "id": "7d69861d-2a34-95a9-c982-ef169fbf6ef3", "name": "kiwix.wikipedia_en_simple_all"}, {"size": "164903", "publisher": "Kiwix", "mediaCount": "1053", "description": "From Wikipedia, the free encyclopedia", "language": "eng", "tags": "nopic", "url": "http://download.kiwix.org/zim/wikipedia/wikipedia_en_simple_all_nopic_2017-01.zim.meta4", "title": "Wikipedia", "favicon": icons.wikipedia_simple_en_all_201701, "articleCount": "122123", "date": "2017-01-04", "faviconMimeType": "image/png", "creator": "Wikipedia", "id": "1ab67c9c-bb56-5964-7cc8-22fc49fcdbf3", "name": "kiwix.wikipedia_en_simple_all"}, {"size": "5325836", "publisher": "Kiwix", "mediaCount": "408926", "description": "Wikipedia 45.000 best articles with pictures", "language": "eng", "tags": "_ftindex", "url": "http://download.kiwix.org/zim/wikipedia/wikipedia_en_wp1-0.8_2017-02.zim.meta4", "title": "Wikipedia 0.8", "favicon": icons.wp108_wikipedia_en_201702, "articleCount": "47594", "date": "2017-02-15", "faviconMimeType": "image/png", "creator": "Wikipedia", "id": "cc04aa87-3ac2-583b-76fa-0949c1014c0b", "name": "kiwix.wikipedia_en_wp1-0.8"}, {"size": "1485133", "publisher": "Kiwix", "mediaCount": "37", "description": "Wikipedia 45.000 best articles with pictures", "language": "eng", "tags": "nopic;_ftindex", "url": "http://download.kiwix.org/zim/wikipedia/wikipedia_en_wp1-0.8_nopic_2017-02.zim.meta4", "title": "Wikipedia 0.8", "favicon": icons.wp108_wikipedia_en_201702, "articleCount": "47594", "date": "2017-02-15", "faviconMimeType": "image/png", "creator": "Wikipedia", "id": "374d502a-9256-334e-cda4-f8d27f3344b2", "name": "kiwix.wikipedia_en_wp1-0.8"}, {"size": "1680148", "publisher": "Kiwix", "mediaCount": "46466", "description": "Definition from Wiktionary, the free dictionary", "language": "eng", "creator": "Wiktionary", "url": "http://download.kiwix.org/zim/wiktionary/wiktionary_en_all_2016-12.zim.meta4", "title": "Wiktionary", "favicon": icons.wiktionary_en_all_201612, "articleCount": "5017861", "date": "2016-12-18", "faviconMimeType": "image/png", "id": "199d49d6-eed1-ab2c-9265-4f23acedc5ac", "name": "kiwix.wiktionary_en_all"}, {"size": "1319765", "publisher": "Kiwix", "mediaCount": "29", "description": "Definition from Wiktionary, the free dictionary", "language": "eng", "tags": "nopic", "url": "http://download.kiwix.org/zim/wiktionary/wiktionary_en_all_nopic_2016-12.zim.meta4", "title": "Wiktionary", "favicon": icons.wiktionary_en_all_201612, "articleCount": "5017809", "date": "2016-12-23", "faviconMimeType": "image/png", "creator": "Wiktionary", "id": "c71fe010-c580-27a8-8bcd-c733cfc3d44a", "name": "kiwix.wiktionary_en_all"}, {"size": "39073", "publisher": "Kiwix", "mediaCount": "3197", "description": "From Wiktionary", "language": "eng", "creator": "Wiktionary", "url": "http://download.kiwix.org/zim/wiktionary/wiktionary_en_simple_all_2017-01.zim.meta4", "title": "Wiktionary", "favicon": icons.wiktionary_simple_en_all_201701, "articleCount": "25092", "date": "2017-01-15", "faviconMimeType": "image/png", "id": "aac82467-cc68-2310-7930-8379c5ae90f3", "name": "kiwix.wiktionary_en_simple_all"}, {"size": "5860", "publisher": "Kiwix", "mediaCount": "49", "description": "From Wiktionary", "language": "eng", "tags": "nopic", "url": "http://download.kiwix.org/zim/wiktionary/wiktionary_en_simple_all_nopic_2017-01.zim.meta4", "title": "Wiktionary", "favicon": icons.wiktionary_simple_en_all_201701, "articleCount": "25092", "date": "2017-01-15", "faviconMimeType": "image/png", "creator": "Wiktionary", "id": "be0b28a8-8988-cc5d-0296-8a4e7e7c7816", "name": "kiwix.wiktionary_en_simple_all"}, {"size": "714382", "publisher": "Kiwix", "mediaCount": "49256", "description": "From Wikivoyage", "language": "eng", "tags": "_ftindex", "url": "http://download.kiwix.org/zim/wikivoyage/wikivoyage_en_all_2017-08.zim.meta4", "title": "Wikivoyage", "favicon": icons.wikivoyage_en_201708, "articleCount": "27936", "date": "2017-08-03", "faviconMimeType": "image/png", "creator": "Wikivoyage", "id": "6dae61b6-bac8-bc55-bbb4-8b41f99552fc", "name": "kiwix.wikivoyage_en_all"}, {"size": "169378", "publisher": "Kiwix", "mediaCount": "36", "description": "From Wikivoyage", "language": "eng", "tags": "\"nopic\";_ftindex", "url": "http://download.kiwix.org/zim/wikivoyage/wikivoyage_en_all_nopic_2017-08.zim.meta4", "title": "Wikivoyage", "favicon": icons.wikivoyage_en_201708, "articleCount": "27936", "date": "2017-08-03", "faviconMimeType": "image/png", "creator": "Wikivoyage", "id": "2300c6c3-6145-5724-bc86-a96b8f9d7792", "name": "kiwix.wikivoyage_en_all"}, {"size": "709019", "publisher": "Kiwix", "mediaCount": "49254", "description": "From Wikivoyage", "language": "eng", "tags": "\"=novid\";_ftindex", "url": "http://download.kiwix.org/zim/wikivoyage/wikivoyage_en_all_novid_2017-08.zim.meta4", "title": "Wikivoyage", "favicon": icons.wikivoyage_en_201708, "articleCount": "27936", "date": "2017-08-03", "faviconMimeType": "image/png", "creator": "Wikivoyage", "id": "b9b3fa00-7cec-4983-c057-f3762e702ff4", "name": "kiwix.wikivoyage_en_all"}, {"size": "241377", "publisher": "Kiwix", "mediaCount": "17899", "description": "From Wikivoyage", "language": "eng", "tags": "_ftindex", "url": "http://download.kiwix.org/zim/wikivoyage/wikivoyage_en_europe_2017-08.zim.meta4", "title": "Wikivoyage - Europe", "favicon": icons.wikivoyage_en_201708, "articleCount": "7491", "date": "2017-08-03", "faviconMimeType": "image/png", "creator": "Wikivoyage", "id": "a2dc00a1-32ae-cb3b-3f7e-ec55f36cdd74", "name": "kiwix.wikivoyage_en_europe"}, {"size": "50101", "publisher": "Kiwix", "mediaCount": "30", "description": "From Wikivoyage", "language": "eng", "tags": "\"nopic\";_ftindex", "url": "http://download.kiwix.org/zim/wikivoyage/wikivoyage_en_europe_nopic_2017-08.zim.meta4", "title": "Wikivoyage - Europe", "favicon": icons.wikivoyage_en_201708, "articleCount": "7491", "date": "2017-08-03", "faviconMimeType": "image/png", "creator": "Wikivoyage", "id": "92f04e96-6347-5b1a-472a-9c3f28950211", "name": "kiwix.wikivoyage_en_europe"}, {"size": "241376", "publisher": "Kiwix", "mediaCount": "17899", "description": "From Wikivoyage", "language": "eng", "tags": "\"=novid\";_ftindex", "url": "http://download.kiwix.org/zim/wikivoyage/wikivoyage_en_europe_novid_2017-08.zim.meta4", "title": "Wikivoyage - Europe", "favicon": icons.wikivoyage_en_201708, "articleCount": "7491", "date": "2017-08-03", "faviconMimeType": "image/png", "creator": "Wikivoyage", "id": "cda7bec1-10bb-3d86-8626-466bd42bf2b5", "name": "kiwix.wikivoyage_en_europe"}, {"size": "710648", "publisher": "Kiwix", "mediaCount": "60939", "description": "From Wikiversity", "language": "eng", "creator": "Wikiversity", "url": "http://download.kiwix.org/zim/wikiversity/wikiversity_en_all_2017-03.zim.meta4", "title": "Wikiversity", "favicon": icons.wikiversity_en_all_201703, "articleCount": "34502", "date": "2017-03-02", "faviconMimeType": "image/png", "id": "ec599830-f577-9c6f-9066-6338540f4357", "name": "kiwix.wikiversity_en_all"}, {"size": "90561", "publisher": "Kiwix", "mediaCount": "35", "description": "From Wikiversity", "language": "eng", "tags": "nopic", "url": "http://download.kiwix.org/zim/wikiversity/wikiversity_en_all_nopic_2017-07.zim.meta4", "title": "Wikiversity", "favicon": icons.wikiversity_en_all_201707, "articleCount": "35310", "date": "2017-07-27", "faviconMimeType": "image/png", "creator": "Wikiversity", "id": "61a16534-c6ae-0aea-e442-e5af3cf0960f", "name": "kiwix.wikiversity_en_all"}, {"size": "575104", "publisher": "Kiwix", "mediaCount": "33557", "description": "From Wikiversity", "language": "eng", "tags": "novid", "url": "http://download.kiwix.org/zim/wikiversity/wikiversity_en_all_novid_2017-07.zim.meta4", "title": "Wikiversity", "favicon": icons.wikiversity_en_all_201707, "articleCount": "35310", "date": "2017-07-27", "faviconMimeType": "image/png", "creator": "Wikiversity", "id": "02a77e18-d58f-a067-dc4b-50f5eeccfed2", "name": "kiwix.wikiversity_en_all"}, {"size": "1155468", "publisher": "Kiwix", "mediaCount": "80949", "description": "From Wikibooks, open books for an open world", "language": "eng", "creator": "Wikibooks", "url": "http://download.kiwix.org/zim/wikibooks/wikibooks_en_all_2017-02.zim.meta4", "title": "Wikibooks", "favicon": icons.wikibooks_en_all, "articleCount": "76628", "date": "2017-02-14", "faviconMimeType": "image/png", "id": "e89c2616-a45c-0425-584b-88f05106f794", "name": "kiwix.wikibooks_en_all"}, {"size": "202025", "publisher": "Kiwix", "mediaCount": "44", "description": "From Wikibooks, open books for an open world", "language": "eng", "tags": "nopic", "url": "http://download.kiwix.org/zim/wikibooks/wikibooks_en_all_nopic_2017-07.zim.meta4", "title": "Wikibooks", "favicon": icons.wikibooks_en_all, "articleCount": "77400", "date": "2017-07-04", "faviconMimeType": "image/png", "creator": "Wikibooks", "id": "e2f039fb-2600-b79e-a54a-9ff927a4647a", "name": "kiwix.wikibooks_en_all"}, {"size": "1204064", "publisher": "Kiwix", "mediaCount": "72393", "description": "From Wikibooks, open books for an open world", "language": "eng", "tags": "novid", "url": "http://download.kiwix.org/zim/wikibooks/wikibooks_en_all_novid_2017-07.zim.meta4", "title": "Wikibooks", "favicon": icons.wikibooks_en_all, "articleCount": "77400", "date": "2017-07-04", "faviconMimeType": "image/png", "creator": "Wikibooks", "id": "ad50c229-f9bd-8546-c5b9-248ea21992e2", "name": "kiwix.wikibooks_en_all"}, {"size": "9351511", "publisher": "Kiwix", "mediaCount": "140055", "description": "From Wikisource", "language": "eng", "creator": "Wikisource", "url": "http://download.kiwix.org/zim/wikisource/wikisource_en_all_2017-02.zim.meta4", "title": "Wikisource", "favicon": icons.wikisource_en_all, "articleCount": "1815066", "date": "2017-02-17", "faviconMimeType": "image/png", "id": "526c7395-b774-c8e5-cd8f-f661294c2561", "name": "kiwix.wikisource_en_all"}, {"size": "3054348", "publisher": "Kiwix", "mediaCount": "38", "description": "From Wikisource", "language": "eng", "tags": "nopic", "url": "http://download.kiwix.org/zim/wikisource/wikisource_en_all_nopic_2017-07.zim.meta4", "title": "Wikisource", "favicon": icons.wikisource_en_all, "articleCount": "1888273", "date": "2017-07-07", "faviconMimeType": "image/png", "creator": "Wikisource", "id": "9f1b5d9b-d2ed-1df2-c4a8-2e9dc0d0f017", "name": "kiwix.wikisource_en_all"}, {"size": "9901858", "publisher": "Kiwix", "mediaCount": "124451", "description": "From Wikisource", "language": "eng", "tags": "novid", "url": "http://download.kiwix.org/zim/wikisource/wikisource_en_all_novid_2017-07.zim.meta4", "title": "Wikisource", "favicon": icons.wikisource_novid_en_all_201707, "articleCount": "1888278", "date": "2017-07-05", "faviconMimeType": "image/png", "creator": "Wikisource", "id": "f2daf6e7-9f7c-a2c1-ffb1-50ed1730c28e", "name": "kiwix.wikisource_en_all"}, {"size": "428155", "publisher": "Kiwix", "mediaCount": "28223", "description": "From Wikiquote", "language": "eng", "creator": "Wikiquote", "url": "http://download.kiwix.org/zim/wikiquote/wikiquote_en_all_2017-03.zim.meta4", "title": "Wikiquote", "favicon": icons.wikiquote_en_all, "articleCount": "29195", "date": "2017-03-01", "faviconMimeType": "image/png", "id": "bad5ba71-5517-e459-f782-406802628afb", "name": "kiwix.wikiquote_en_all"}, {"size": "121258", "publisher": "Kiwix", "mediaCount": "34", "description": "From Wikiquote", "language": "eng", "tags": "nopic", "url": "http://download.kiwix.org/zim/wikiquote/wikiquote_en_all_nopic_2017-07.zim.meta4", "title": "Wikiquote", "favicon": icons.wikiquote_en_all, "articleCount": "29937", "date": "2017-07-26", "faviconMimeType": "image/png", "creator": "Wikiquote", "id": "ae858767-cd84-9879-f736-300e92c6f20c", "name": "kiwix.wikiquote_en_all"}, {"size": "436057", "publisher": "Kiwix", "mediaCount": "28639", "description": "From Wikiquote", "language": "eng", "tags": "novid", "url": "http://download.kiwix.org/zim/wikiquote/wikiquote_en_all_novid_2017-07.zim.meta4", "title": "Wikiquote", "favicon": icons.wikiquote_en_all, "articleCount": "29937", "date": "2017-07-26", "faviconMimeType": "image/png", "creator": "Wikiquote", "id": "f2e7b666-ecf5-42de-5c3e-0538b6eecbec", "name": "kiwix.wikiquote_en_all"}, {"size": "890888", "publisher": "Kiwix", "mediaCount": "15669", "description": "From Wikinews, the free news source you can write!", "language": "eng", "tags": "_ftindex", "url": "http://download.kiwix.org/zim/wikinews/wikinews_en_all_2017-04.zim.meta4", "title": "Wikinews", "favicon": icons.wikinews_en_all, "articleCount": "21252", "date": "2017-04-26", "faviconMimeType": "image/png", "creator": "Wikinews", "id": "d79bd37c-95d4-9316-6a1f-0aac2c027dd6", "name": "kiwix.wikinews_en_all"}, {"size": "60928", "publisher": "Kiwix", "mediaCount": "46", "description": "From Wikinews, the free news source you can write!", "language": "eng", "tags": "\"nopic\";_ftindex", "url": "http://download.kiwix.org/zim/wikinews/wikinews_en_all_nopic_2017-08.zim.meta4", "title": "Wikinews", "favicon": icons.wikinews_en_all, "articleCount": "21348", "date": "2017-08-01", "faviconMimeType": "image/png", "creator": "Wikinews", "id": "a0604faa-68d3-39e5-2288-a83a363c2fea", "name": "kiwix.wikinews_en_all"}, {"size": "239047", "publisher": "Kiwix", "mediaCount": "15568", "description": "From Wikinews, the free news source you can write!", "language": "eng", "tags": "\"=novid\";_ftindex", "url": "http://download.kiwix.org/zim/wikinews/wikinews_en_all_novid_2017-08.zim.meta4", "title": "Wikinews", "favicon": icons.wikinews_en_all, "articleCount": "21348", "date": "2017-08-01", "faviconMimeType": "image/png", "creator": "Wikinews", "id": "64b66117-0c15-f3c5-7d36-8ec5f05cc019", "name": "kiwix.wikinews_en_all"}, {"size": "1054906", "publisher": "Kiwix", "mediaCount": "72094", "description": "From Wikispecies", "language": "eng", "creator": "Wikimedia", "url": "http://download.kiwix.org/zim/wikispecies/wikispecies_en_all_2017-02.zim.meta4", "title": "Wikispecies", "favicon": icons.wikispecies_en_all, "articleCount": "521009", "date": "2017-02-20", "faviconMimeType": "image/png", "id": "ed3eb913-e17b-c212-3037-77ad707e2bc9", "name": "kiwix.wikispecies_en_all"}, {"size": "186904", "publisher": "Kiwix", "mediaCount": "32", "description": "From Wikispecies", "language": "eng", "tags": "nopic", "url": "http://download.kiwix.org/zim/wikispecies/wikispecies_en_all_nopic_2017-07.zim.meta4", "title": "Wikispecies", "favicon": icons.wikispecies_en_all, "articleCount": "559262", "date": "2017-07-07", "faviconMimeType": "image/png", "creator": "Wikimedia", "id": "3491dddf-fead-e8c2-e860-48af20539067", "name": "kiwix.wikispecies_en_all"}, {"size": "1082434", "publisher": "Kiwix", "mediaCount": "73143", "description": "From Wikispecies", "language": "eng", "tags": "novid", "url": "http://download.kiwix.org/zim/wikispecies/wikispecies_en_all_novid_2017-07.zim.meta4", "title": "Wikispecies", "favicon": icons.wikispecies_en_all, "articleCount": "559263", "date": "2017-07-07", "faviconMimeType": "image/png", "creator": "Wikimedia", "id": "a71adb7c-1d21-2519-ea31-5d0e7a00e969", "name": "kiwix.wikispecies_en_all"}, {"publisher": "Kiwix", "mediaCount": "603", "description": "Ideas worth spreading", "language": "eng", "creator": "TED", "url": "http://download.kiwix.org/zim/ted/ted_en_business_2016-06.zim.meta4", "title": "TED talks - Business", "favicon": icons.ted_en_201606, "articleCount": "300", "date": "2016-06-26", "size": "9808467", "id": "6b702548-b411-48ea-d18c-1b7476b70b12", "faviconMimeType": "image/png"}, {"publisher": "Kiwix", "mediaCount": "745", "description": "Ideas worth spreading", "language": "eng", "creator": "TED", "url": "http://download.kiwix.org/zim/ted/ted_en_design_2016-06.zim.meta4", "title": "TED talks - Design", "favicon": icons.ted_en_201606, "articleCount": "371", "date": "2016-06-26", "size": "10276770", "id": "bba1733e-c3dc-05ea-24ca-5a813fd2498c", "faviconMimeType": "image/png"}, {"publisher": "Kiwix", "mediaCount": "565", "description": "Ideas worth spreading", "language": "eng", "creator": "TED", "url": "http://download.kiwix.org/zim/ted/ted_en_entertainment_2016-06.zim.meta4", "title": "TED talks - Entertainment", "favicon": icons.ted_en_201606, "articleCount": "281", "date": "2016-06-26", "size": "8774222", "id": "47234a2a-1cba-1c9a-5dab-ada08c922201", "faviconMimeType": "image/png"}, {"publisher": "Kiwix", "mediaCount": "903", "description": "Ideas worth spreading", "language": "eng", "creator": "TED", "url": "http://download.kiwix.org/zim/ted/ted_en_global_issues_2016-06.zim.meta4", "title": "TED talks - Global issues", "favicon": icons.ted_en_201606, "articleCount": "450", "date": "2016-06-26", "size": "15132048", "id": "95af241b-be90-a801-ddc7-d94d0a6aa672", "faviconMimeType": "image/png"}, {"publisher": "Kiwix", "mediaCount": "935", "description": "Ideas worth spreading", "language": "eng", "creator": "TED", "url": "http://download.kiwix.org/zim/ted/ted_en_science_2016-06.zim.meta4", "title": "TED talks - Science", "favicon": icons.ted_en_201606, "articleCount": "466", "date": "2016-06-26", "size": "14380936", "id": "4500b874-60af-62ed-0bf1-c0081e785e14", "faviconMimeType": "image/png"}, {"publisher": "Kiwix", "mediaCount": "1259", "description": "Ideas worth spreading", "language": "eng", "creator": "TED", "url": "http://download.kiwix.org/zim/ted/ted_en_technology_2016-06.zim.meta4", "title": "TED talks - Technology", "favicon": icons.ted_en_201606, "articleCount": "628", "date": "2016-06-26", "size": "19059490", "id": "cbb0510d-7496-726c-6b6f-92dfe58e698f", "faviconMimeType": "image/png"}, {"publisher": "Kiwix", "mediaCount": "521", "description": "CrashCourse videos", "language": "eng", "creator": "CrashCourse", "url": "http://download.kiwix.org/zim/other/crashcourse_en_all_2016-02.zim.meta4", "title": "CrashCourse", "favicon": icons.en_crashcourse_all_201602, "articleCount": "518", "date": "2016-02-16", "size": "14604789", "id": "580162ed-f379-b1de-3918-b6009f02cdff", "faviconMimeType": "image/png"}, {"size": "96473", "publisher": "Kiwix", "mediaCount": "3389", "description": "From RationalWiki", "language": "eng", "tags": "_ftindex", "url": "http://download.kiwix.org/zim/other/rationalwiki_en_all_2017-08.zim.meta4", "title": "RationalWiki", "favicon": icons.rationalwiki_en_all_201708, "articleCount": "7995", "date": "2017-08-04", "faviconMimeType": "image/png", "creator": "Rationalwiki", "id": "ba660920-1ca9-594d-e6c8-b8f5ee3d28bf", "name": "kiwix.rationalwiki_en_all"}, {"size": "58471", "publisher": "Kiwix", "mediaCount": "961", "description": "From RationalWiki", "language": "eng", "tags": "\"nopic\";_ftindex", "url": "http://download.kiwix.org/zim/other/rationalwiki_en_all_nopic_2017-08.zim.meta4", "title": "RationalWiki", "favicon": icons.rationalwiki_en_all_201708, "articleCount": "7995", "date": "2017-08-04", "faviconMimeType": "image/png", "creator": "Rationalwiki", "id": "fb42cbb2-29e3-fdbd-68f3-8bf22c480ea9", "name": "kiwix.rationalwiki_en_all"}, {"size": "96476", "publisher": "Kiwix", "mediaCount": "3389", "description": "From RationalWiki", "language": "eng", "tags": "\"=novid\";_ftindex", "url": "http://download.kiwix.org/zim/other/rationalwiki_en_all_novid_2017-08.zim.meta4", "title": "RationalWiki", "favicon": icons.rationalwiki_en_all_201708, "articleCount": "7995", "date": "2017-08-04", "faviconMimeType": "image/png", "creator": "Rationalwiki", "id": "c3318499-9f1a-aff3-3e1e-af003ad75723", "name": "kiwix.rationalwiki_en_all"}, {"publisher": "Kiwix", "mediaCount": "1174", "description": "TED Ed videos", "language": "eng", "creator": "TED Ed", "url": "http://download.kiwix.org/zim/ted/ted-ed_en_all_2016-04.zim.meta4", "title": "TED Ed", "favicon": icons.teded_en_all_201604, "articleCount": "1170", "date": "2016-04-17", "size": "18939371", "id": "37f70600-ca38-bbcd-edb9-f97ca1ebd126", "faviconMimeType": "image/png"}, {"publisher": "Kiwix", "mediaCount": "574", "description": "Uploads from TEDMED videos", "language": "eng", "creator": "Uploads from TEDMED", "url": "http://download.kiwix.org/zim/ted/tedmed_en_all_2016-07.zim.meta4", "title": "Uploads from TEDMED", "favicon": icons.tedmed_en_all_201607, "articleCount": "570", "date": "2016-07-30", "size": "18338283", "id": "80d768b7-8d2b-03f1-3b10-a56fa4d16728", "faviconMimeType": "image/png"}, {"size": "44932", "publisher": "Kiwix", "mediaCount": "3381", "description": "From Vikidia, the encyclopedia for 8 to 13-year-old children that everybody can make better", "language": "eng", "tags": "_ftindex", "url": "http://download.kiwix.org/zim/vikidia/vikidia_en_all_2017-08.zim.meta4", "title": "Vikidia", "favicon": icons.vikidia_en_all_201708, "articleCount": "2007", "date": "2017-08-05", "faviconMimeType": "image/png", "creator": "Vikidia", "id": "6b4f25c6-585b-32f0-96ed-d8eb93e00e0b", "name": "kiwix.vikidia_en_all"}, {"size": "3413", "publisher": "Kiwix", "mediaCount": "23", "description": "From Vikidia, the encyclopedia for 8 to 13-year-old children that everybody can make better", "language": "eng", "tags": "\"nopic\";_ftindex", "url": "http://download.kiwix.org/zim/vikidia/vikidia_en_all_nopic_2017-08.zim.meta4", "title": "Vikidia", "favicon": icons.vikidia_en_all_201708, "articleCount": "2007", "date": "2017-08-05", "faviconMimeType": "image/png", "creator": "Vikidia", "id": "d341d996-5b44-ef99-acd3-ebdb7862959f", "name": "kiwix.vikidia_en_all"}, {"size": "44966", "publisher": "Kiwix", "mediaCount": "3381", "description": "From Vikidia, the encyclopedia for 8 to 13-year-old children that everybody can make better", "language": "eng", "tags": "\"=novid\";_ftindex", "url": "http://download.kiwix.org/zim/vikidia/vikidia_en_all_novid_2017-08.zim.meta4", "title": "Vikidia", "favicon": icons.vikidia_en_all_201708, "articleCount": "2007", "date": "2017-08-05", "faviconMimeType": "image/png", "creator": "Vikidia", "id": "32f67c53-0ef4-87b0-93a4-4d5ddca768e0", "name": "kiwix.vikidia_en_all"}];

	function load( jqueryNode ) {    
        // Add links to ZIM on disk. Onclick change selected archive
        var onDisk = zimArchiveLoader.onDiskMatches(catalogue);
        jqueryNode.append("<h4>Detected Archives On Disk: </h4>");
        var items = [];
        $.each( onDisk, function( i, item ) {
            items.push( "<li class='list-group-item small' id='" + i + "'>" + "<img width='24px' height='24px' src='data:"+item.faviconMimeType
            +";base64,"+item.favicon+ "'><strong>" + item.title +"</strong> "
            +item.date+ " " +" <button onclick='location.href = location.href.replace( /[\?#].*|$/, &apos;?archive="+item.filename+"&random=&apos;);'> LOAD</button></li>");
        });
        jqueryNode.append(items.join( "" ));
        // Add downloadable ZIM's
        jqueryNode.append("<h5>Download Links:</h5><p class='small text-info'>This is a short list of links to <strong>English</strong> Web Archives(ZIM files) created in <strong>2016-2017</strong>. For the latest list in all languages please visit the Kiwix website.</p>");
        var groups = {};

        $.each( catalogue, function( i, item ) {
            if(item.title in groups)
                groups[item.title].push(item);
            else
                groups[item.title] = [item];
        });
        // group links by title, sort groups by lenth, sort links in group by date
        var groupHTML = '<ul id="accordian" class="list-group">';
        for(var group in groups){
            groups[group].sort(function(a,b){return new Date(b.date) - new Date(a.date);});
        }
        var groupsSorted = Object.keys(groups).sort(function(a,b){return groups[b].length - groups[a].length});
        // generate subGroup HTML 
        for(var i=0;i<groupsSorted.length;i++){
            var items = [], subGroup = groups[groupsSorted[i]];
            // Group Header
            var groupHeader = '<a class="list-group-item" data-toggle="collapse" href="#g'+i+'" ><span class="badge">'+ subGroup.length+'</span><strong> '+groupsSorted[i]+'</strong> <span class="small"> <em>'
            +subGroup[0].description+'</em> - Creator:<strong>'+ subGroup[0].creator+'</strong> Publisher:<strong>'+ subGroup[0].publisher+'</strong></span></a><ul style="padding:2px" id="g'+i+'" class="collapse  list-group">'; 
            for(var j=0;j<subGroup.length;j++){
                var item = subGroup[j];
                items.push( "<li class ='list-group-item small' style='padding:2px'><span class='label label-primary'>"+item.date+"</span> Articles:"+item.articleCount+ "    Media:"+item.mediaCount + "    <a href='"+item.url +"'> <span class='glyphicon glyphicon-download'></span></a> <a href=''> <span class='glyphicon glyphicon-magnet'></span></a> </li>");                
            }
            groupHTML = groupHTML + groupHeader + items.join( "" ) +"</ul>";
        }
        groupHTML = groupHTML + '</ul>';
        jqueryNode.append(groupHTML); 
    };

	return {
        loadCatalogue: load,
    };
});
